// This file is autogenerated by the hrpc compiler
/* eslint-disable camelcase */
/* eslint-disable space-before-function-paren */

const { c, RPC, RPCStream, RPCRequestStream } = require('hrpc/runtime')
const { getEncoding } = require('./messages.js')

const methods = new Map([
  ['@peartube/create-identity', 0],
  [0, '@peartube/create-identity'],
  ['@peartube/get-identity', 1],
  [1, '@peartube/get-identity'],
  ['@peartube/get-identities', 2],
  [2, '@peartube/get-identities'],
  ['@peartube/set-active-identity', 3],
  [3, '@peartube/set-active-identity'],
  ['@peartube/recover-identity', 4],
  [4, '@peartube/recover-identity'],
  ['@peartube/get-channel', 5],
  [5, '@peartube/get-channel'],
  ['@peartube/update-channel', 6],
  [6, '@peartube/update-channel'],
  ['@peartube/list-videos', 7],
  [7, '@peartube/list-videos'],
  ['@peartube/get-video-url', 8],
  [8, '@peartube/get-video-url'],
  ['@peartube/get-video-data', 9],
  [9, '@peartube/get-video-data'],
  ['@peartube/upload-video', 10],
  [10, '@peartube/upload-video'],
  ['@peartube/subscribe-channel', 11],
  [11, '@peartube/subscribe-channel'],
  ['@peartube/unsubscribe-channel', 12],
  [12, '@peartube/unsubscribe-channel'],
  ['@peartube/get-subscriptions', 13],
  [13, '@peartube/get-subscriptions'],
  ['@peartube/join-channel', 14],
  [14, '@peartube/join-channel'],
  ['@peartube/get-public-feed', 15],
  [15, '@peartube/get-public-feed'],
  ['@peartube/refresh-feed', 16],
  [16, '@peartube/refresh-feed'],
  ['@peartube/submit-to-feed', 17],
  [17, '@peartube/submit-to-feed'],
  ['@peartube/hide-channel', 18],
  [18, '@peartube/hide-channel'],
  ['@peartube/get-channel-meta', 19],
  [19, '@peartube/get-channel-meta'],
  ['@peartube/get-swarm-status', 20],
  [20, '@peartube/get-swarm-status'],
  ['@peartube/prefetch-video', 21],
  [21, '@peartube/prefetch-video'],
  ['@peartube/get-video-stats', 22],
  [22, '@peartube/get-video-stats'],
  ['@peartube/get-seeding-status', 23],
  [23, '@peartube/get-seeding-status'],
  ['@peartube/set-seeding-config', 24],
  [24, '@peartube/set-seeding-config'],
  ['@peartube/pin-channel', 25],
  [25, '@peartube/pin-channel'],
  ['@peartube/unpin-channel', 26],
  [26, '@peartube/unpin-channel'],
  ['@peartube/get-pinned-channels', 27],
  [27, '@peartube/get-pinned-channels'],
  ['@peartube/get-video-thumbnail', 28],
  [28, '@peartube/get-video-thumbnail'],
  ['@peartube/get-video-metadata', 29],
  [29, '@peartube/get-video-metadata'],
  ['@peartube/set-video-thumbnail', 30],
  [30, '@peartube/set-video-thumbnail'],
  ['@peartube/set-video-thumbnail-from-file', 31],
  [31, '@peartube/set-video-thumbnail-from-file'],
  ['@peartube/get-status', 32],
  [32, '@peartube/get-status'],
  ['@peartube/pick-video-file', 33],
  [33, '@peartube/pick-video-file'],
  ['@peartube/pick-image-file', 34],
  [34, '@peartube/pick-image-file'],
  ['@peartube/get-blob-server-port', 35],
  [35, '@peartube/get-blob-server-port'],
  ['@peartube/event-ready', 36],
  [36, '@peartube/event-ready'],
  ['@peartube/event-error', 37],
  [37, '@peartube/event-error'],
  ['@peartube/event-upload-progress', 38],
  [38, '@peartube/event-upload-progress'],
  ['@peartube/event-feed-update', 39],
  [39, '@peartube/event-feed-update'],
  ['@peartube/event-log', 40],
  [40, '@peartube/event-log'],
  ['@peartube/event-video-stats', 41],
  [41, '@peartube/event-video-stats'],
  ['@peartube/download-video', 42],
  [42, '@peartube/download-video'],
  ['@peartube/delete-video', 43],
  [43, '@peartube/delete-video']
])

class HRPC {
  constructor(stream) {
    this._stream = stream
    this._handlers = []
    this._requestEncodings = new Map([
      ['@peartube/create-identity', getEncoding('@peartube/create-identity-request')],
      ['@peartube/get-identity', getEncoding('@peartube/get-identity-request')],
      ['@peartube/get-identities', getEncoding('@peartube/get-identities-request')],
      ['@peartube/set-active-identity', getEncoding('@peartube/set-active-identity-request')],
      ['@peartube/recover-identity', getEncoding('@peartube/recover-identity-request')],
      ['@peartube/get-channel', getEncoding('@peartube/get-channel-request')],
      ['@peartube/update-channel', getEncoding('@peartube/update-channel-request')],
      ['@peartube/list-videos', getEncoding('@peartube/list-videos-request')],
      ['@peartube/get-video-url', getEncoding('@peartube/get-video-url-request')],
      ['@peartube/get-video-data', getEncoding('@peartube/get-video-data-request')],
      ['@peartube/upload-video', getEncoding('@peartube/upload-video-request')],
      ['@peartube/subscribe-channel', getEncoding('@peartube/subscribe-channel-request')],
      ['@peartube/unsubscribe-channel', getEncoding('@peartube/unsubscribe-channel-request')],
      ['@peartube/get-subscriptions', getEncoding('@peartube/get-subscriptions-request')],
      ['@peartube/join-channel', getEncoding('@peartube/join-channel-request')],
      ['@peartube/get-public-feed', getEncoding('@peartube/get-public-feed-request')],
      ['@peartube/refresh-feed', getEncoding('@peartube/refresh-feed-request')],
      ['@peartube/submit-to-feed', getEncoding('@peartube/submit-to-feed-request')],
      ['@peartube/hide-channel', getEncoding('@peartube/hide-channel-request')],
      ['@peartube/get-channel-meta', getEncoding('@peartube/get-channel-meta-request')],
      ['@peartube/get-swarm-status', getEncoding('@peartube/get-swarm-status-request')],
      ['@peartube/prefetch-video', getEncoding('@peartube/prefetch-video-request')],
      ['@peartube/get-video-stats', getEncoding('@peartube/get-video-stats-request')],
      ['@peartube/get-seeding-status', getEncoding('@peartube/get-seeding-status-request')],
      ['@peartube/set-seeding-config', getEncoding('@peartube/set-seeding-config-request')],
      ['@peartube/pin-channel', getEncoding('@peartube/pin-channel-request')],
      ['@peartube/unpin-channel', getEncoding('@peartube/unpin-channel-request')],
      ['@peartube/get-pinned-channels', getEncoding('@peartube/get-pinned-channels-request')],
      ['@peartube/get-video-thumbnail', getEncoding('@peartube/get-video-thumbnail-request')],
      ['@peartube/get-video-metadata', getEncoding('@peartube/get-video-metadata-request')],
      ['@peartube/set-video-thumbnail', getEncoding('@peartube/set-video-thumbnail-request')],
      ['@peartube/set-video-thumbnail-from-file', getEncoding('@peartube/set-video-thumbnail-from-file-request')],
      ['@peartube/get-status', getEncoding('@peartube/get-status-request')],
      ['@peartube/pick-video-file', getEncoding('@peartube/pick-video-file-request')],
      ['@peartube/pick-image-file', getEncoding('@peartube/pick-image-file-request')],
      ['@peartube/get-blob-server-port', getEncoding('@peartube/get-blob-server-port-request')],
      ['@peartube/event-ready', getEncoding('@peartube/event-ready')],
      ['@peartube/event-error', getEncoding('@peartube/event-error')],
      ['@peartube/event-upload-progress', getEncoding('@peartube/event-upload-progress')],
      ['@peartube/event-feed-update', getEncoding('@peartube/event-feed-update')],
      ['@peartube/event-log', getEncoding('@peartube/event-log')],
      ['@peartube/event-video-stats', getEncoding('@peartube/event-video-stats')],
      ['@peartube/download-video', getEncoding('@peartube/download-video-request')],
      ['@peartube/delete-video', getEncoding('@peartube/delete-video-request')]
    ])
    this._responseEncodings = new Map([
      ['@peartube/create-identity', getEncoding('@peartube/create-identity-response')],
      ['@peartube/get-identity', getEncoding('@peartube/get-identity-response')],
      ['@peartube/get-identities', getEncoding('@peartube/get-identities-response')],
      ['@peartube/set-active-identity', getEncoding('@peartube/set-active-identity-response')],
      ['@peartube/recover-identity', getEncoding('@peartube/recover-identity-response')],
      ['@peartube/get-channel', getEncoding('@peartube/get-channel-response')],
      ['@peartube/update-channel', getEncoding('@peartube/update-channel-response')],
      ['@peartube/list-videos', getEncoding('@peartube/list-videos-response')],
      ['@peartube/get-video-url', getEncoding('@peartube/get-video-url-response')],
      ['@peartube/get-video-data', getEncoding('@peartube/get-video-data-response')],
      ['@peartube/upload-video', getEncoding('@peartube/upload-video-response')],
      ['@peartube/subscribe-channel', getEncoding('@peartube/subscribe-channel-response')],
      ['@peartube/unsubscribe-channel', getEncoding('@peartube/unsubscribe-channel-response')],
      ['@peartube/get-subscriptions', getEncoding('@peartube/get-subscriptions-response')],
      ['@peartube/join-channel', getEncoding('@peartube/join-channel-response')],
      ['@peartube/get-public-feed', getEncoding('@peartube/get-public-feed-response')],
      ['@peartube/refresh-feed', getEncoding('@peartube/refresh-feed-response')],
      ['@peartube/submit-to-feed', getEncoding('@peartube/submit-to-feed-response')],
      ['@peartube/hide-channel', getEncoding('@peartube/hide-channel-response')],
      ['@peartube/get-channel-meta', getEncoding('@peartube/get-channel-meta-response')],
      ['@peartube/get-swarm-status', getEncoding('@peartube/get-swarm-status-response')],
      ['@peartube/prefetch-video', getEncoding('@peartube/prefetch-video-response')],
      ['@peartube/get-video-stats', getEncoding('@peartube/get-video-stats-response')],
      ['@peartube/get-seeding-status', getEncoding('@peartube/get-seeding-status-response')],
      ['@peartube/set-seeding-config', getEncoding('@peartube/set-seeding-config-response')],
      ['@peartube/pin-channel', getEncoding('@peartube/pin-channel-response')],
      ['@peartube/unpin-channel', getEncoding('@peartube/unpin-channel-response')],
      ['@peartube/get-pinned-channels', getEncoding('@peartube/get-pinned-channels-response')],
      ['@peartube/get-video-thumbnail', getEncoding('@peartube/get-video-thumbnail-response')],
      ['@peartube/get-video-metadata', getEncoding('@peartube/get-video-metadata-response')],
      ['@peartube/set-video-thumbnail', getEncoding('@peartube/set-video-thumbnail-response')],
      ['@peartube/set-video-thumbnail-from-file', getEncoding('@peartube/set-video-thumbnail-from-file-response')],
      ['@peartube/get-status', getEncoding('@peartube/get-status-response')],
      ['@peartube/pick-video-file', getEncoding('@peartube/pick-video-file-response')],
      ['@peartube/pick-image-file', getEncoding('@peartube/pick-image-file-response')],
      ['@peartube/get-blob-server-port', getEncoding('@peartube/get-blob-server-port-response')],
      ['@peartube/download-video', getEncoding('@peartube/download-video-response')],
      ['@peartube/delete-video', getEncoding('@peartube/delete-video-response')]
    ])
    this._rpc = new RPC(stream, async (req) => {
      const command = methods.get(req.command)
      const responseEncoding = this._responseEncodings.get(command)
      const requestEncoding = this._requestEncodings.get(command)
      if (this._requestIsSend(command)) {
        const request = req.data ? c.decode(requestEncoding, req.data) : null
        await this._handlers[command](request)
        return
      }
      if (!this._requestIsStream(command) && !this._responseIsStream(command)) {
        const request = req.data ? c.decode(requestEncoding, req.data) : null
        const response = await this._handlers[command](request)
        req.reply(c.encode(responseEncoding, response))
      }
      if (!this._requestIsStream(command) && this._responseIsStream(command)) {
        const request = req.data ? c.decode(requestEncoding, req.data) : null
        const responseStream = new RPCStream(
          null,
          null,
          req.createResponseStream(),
          responseEncoding
        )
        responseStream.data = request
        await this._handlers[command](responseStream)
      }
      if (this._requestIsStream(command) && !this._responseIsStream(command)) {
        const requestStream = new RPCRequestStream(
          req,
          responseEncoding,
          req.createRequestStream(),
          requestEncoding
        )
        const response = await this._handlers[command](requestStream)
        req.reply(c.encode(responseEncoding, response))
      }
      if (this._requestIsStream(command) && this._responseIsStream(command)) {
        const requestStream = new RPCRequestStream(
          req,
          responseEncoding,
          req.createRequestStream(),
          requestEncoding,
          req.createResponseStream(),
          responseEncoding
        )
        await this._handlers[command](requestStream)
      }
    })
  }

  async _call(name, args) {
    const requestEncoding = this._requestEncodings.get(name)
    const responseEncoding = this._responseEncodings.get(name)
    const request = this._rpc.request(methods.get(name))
    const encoded = c.encode(requestEncoding, args)
    request.send(encoded)
    return c.decode(responseEncoding, await request.reply())
  }

  _callSync(name, args) {
    const requestEncoding = this._requestEncodings.get(name)
    const responseEncoding = this._responseEncodings.get(name)
    const request = this._rpc.request(methods.get(name))
    if (this._requestIsSend(name)) {
      const encoded = c.encode(requestEncoding, args)
      request.send(encoded)
    }
    if (!this._requestIsStream(name) && this._responseIsStream(name)) {
      const encoded = c.encode(requestEncoding, args)
      request.send(encoded)
      return new RPCStream(request.createResponseStream(), responseEncoding)
    }
    if (this._requestIsStream(name) && !this._responseIsStream(name)) {
      return new RPCRequestStream(
        request,
        responseEncoding,
        null,
        null,
        request.createRequestStream(),
        requestEncoding
      )
    }
    if (this._requestIsStream(name) && this._responseIsStream(name)) {
      return new RPCRequestStream(
        request,
        responseEncoding,
        request.createResponseStream(),
        responseEncoding,
        request.createRequestStream(),
        requestEncoding
      )
    }
  }

  async createIdentity(args) {
    return this._call('@peartube/create-identity', args)
  }

  async getIdentity(args) {
    return this._call('@peartube/get-identity', args)
  }

  async getIdentities(args) {
    return this._call('@peartube/get-identities', args)
  }

  async setActiveIdentity(args) {
    return this._call('@peartube/set-active-identity', args)
  }

  async recoverIdentity(args) {
    return this._call('@peartube/recover-identity', args)
  }

  async getChannel(args) {
    return this._call('@peartube/get-channel', args)
  }

  async updateChannel(args) {
    return this._call('@peartube/update-channel', args)
  }

  async listVideos(args) {
    return this._call('@peartube/list-videos', args)
  }

  async getVideoUrl(args) {
    return this._call('@peartube/get-video-url', args)
  }

  async getVideoData(args) {
    return this._call('@peartube/get-video-data', args)
  }

  async uploadVideo(args) {
    return this._call('@peartube/upload-video', args)
  }

  async subscribeChannel(args) {
    return this._call('@peartube/subscribe-channel', args)
  }

  async unsubscribeChannel(args) {
    return this._call('@peartube/unsubscribe-channel', args)
  }

  async getSubscriptions(args) {
    return this._call('@peartube/get-subscriptions', args)
  }

  async joinChannel(args) {
    return this._call('@peartube/join-channel', args)
  }

  async getPublicFeed(args) {
    return this._call('@peartube/get-public-feed', args)
  }

  async refreshFeed(args) {
    return this._call('@peartube/refresh-feed', args)
  }

  async submitToFeed(args) {
    return this._call('@peartube/submit-to-feed', args)
  }

  async hideChannel(args) {
    return this._call('@peartube/hide-channel', args)
  }

  async getChannelMeta(args) {
    return this._call('@peartube/get-channel-meta', args)
  }

  async getSwarmStatus(args) {
    return this._call('@peartube/get-swarm-status', args)
  }

  async prefetchVideo(args) {
    return this._call('@peartube/prefetch-video', args)
  }

  async getVideoStats(args) {
    return this._call('@peartube/get-video-stats', args)
  }

  async getSeedingStatus(args) {
    return this._call('@peartube/get-seeding-status', args)
  }

  async setSeedingConfig(args) {
    return this._call('@peartube/set-seeding-config', args)
  }

  async pinChannel(args) {
    return this._call('@peartube/pin-channel', args)
  }

  async unpinChannel(args) {
    return this._call('@peartube/unpin-channel', args)
  }

  async getPinnedChannels(args) {
    return this._call('@peartube/get-pinned-channels', args)
  }

  async getVideoThumbnail(args) {
    return this._call('@peartube/get-video-thumbnail', args)
  }

  async getVideoMetadata(args) {
    return this._call('@peartube/get-video-metadata', args)
  }

  async setVideoThumbnail(args) {
    return this._call('@peartube/set-video-thumbnail', args)
  }

  async setVideoThumbnailFromFile(args) {
    return this._call('@peartube/set-video-thumbnail-from-file', args)
  }

  async getStatus(args) {
    return this._call('@peartube/get-status', args)
  }

  async pickVideoFile(args) {
    return this._call('@peartube/pick-video-file', args)
  }

  async pickImageFile(args) {
    return this._call('@peartube/pick-image-file', args)
  }

  async getBlobServerPort(args) {
    return this._call('@peartube/get-blob-server-port', args)
  }

  eventReady(args) {
    return this._callSync('@peartube/event-ready', args)
  }

  eventError(args) {
    return this._callSync('@peartube/event-error', args)
  }

  eventUploadProgress(args) {
    return this._callSync('@peartube/event-upload-progress', args)
  }

  eventFeedUpdate(args) {
    return this._callSync('@peartube/event-feed-update', args)
  }

  eventLog(args) {
    return this._callSync('@peartube/event-log', args)
  }

  eventVideoStats(args) {
    return this._callSync('@peartube/event-video-stats', args)
  }

  async downloadVideo(args) {
    return this._call('@peartube/download-video', args)
  }

  async deleteVideo(args) {
    return this._call('@peartube/delete-video', args)
  }

  onCreateIdentity(responseFn) {
    this._handlers['@peartube/create-identity'] = responseFn
  }

  onGetIdentity(responseFn) {
    this._handlers['@peartube/get-identity'] = responseFn
  }

  onGetIdentities(responseFn) {
    this._handlers['@peartube/get-identities'] = responseFn
  }

  onSetActiveIdentity(responseFn) {
    this._handlers['@peartube/set-active-identity'] = responseFn
  }

  onRecoverIdentity(responseFn) {
    this._handlers['@peartube/recover-identity'] = responseFn
  }

  onGetChannel(responseFn) {
    this._handlers['@peartube/get-channel'] = responseFn
  }

  onUpdateChannel(responseFn) {
    this._handlers['@peartube/update-channel'] = responseFn
  }

  onListVideos(responseFn) {
    this._handlers['@peartube/list-videos'] = responseFn
  }

  onGetVideoUrl(responseFn) {
    this._handlers['@peartube/get-video-url'] = responseFn
  }

  onGetVideoData(responseFn) {
    this._handlers['@peartube/get-video-data'] = responseFn
  }

  onUploadVideo(responseFn) {
    this._handlers['@peartube/upload-video'] = responseFn
  }

  onSubscribeChannel(responseFn) {
    this._handlers['@peartube/subscribe-channel'] = responseFn
  }

  onUnsubscribeChannel(responseFn) {
    this._handlers['@peartube/unsubscribe-channel'] = responseFn
  }

  onGetSubscriptions(responseFn) {
    this._handlers['@peartube/get-subscriptions'] = responseFn
  }

  onJoinChannel(responseFn) {
    this._handlers['@peartube/join-channel'] = responseFn
  }

  onGetPublicFeed(responseFn) {
    this._handlers['@peartube/get-public-feed'] = responseFn
  }

  onRefreshFeed(responseFn) {
    this._handlers['@peartube/refresh-feed'] = responseFn
  }

  onSubmitToFeed(responseFn) {
    this._handlers['@peartube/submit-to-feed'] = responseFn
  }

  onHideChannel(responseFn) {
    this._handlers['@peartube/hide-channel'] = responseFn
  }

  onGetChannelMeta(responseFn) {
    this._handlers['@peartube/get-channel-meta'] = responseFn
  }

  onGetSwarmStatus(responseFn) {
    this._handlers['@peartube/get-swarm-status'] = responseFn
  }

  onPrefetchVideo(responseFn) {
    this._handlers['@peartube/prefetch-video'] = responseFn
  }

  onGetVideoStats(responseFn) {
    this._handlers['@peartube/get-video-stats'] = responseFn
  }

  onGetSeedingStatus(responseFn) {
    this._handlers['@peartube/get-seeding-status'] = responseFn
  }

  onSetSeedingConfig(responseFn) {
    this._handlers['@peartube/set-seeding-config'] = responseFn
  }

  onPinChannel(responseFn) {
    this._handlers['@peartube/pin-channel'] = responseFn
  }

  onUnpinChannel(responseFn) {
    this._handlers['@peartube/unpin-channel'] = responseFn
  }

  onGetPinnedChannels(responseFn) {
    this._handlers['@peartube/get-pinned-channels'] = responseFn
  }

  onGetVideoThumbnail(responseFn) {
    this._handlers['@peartube/get-video-thumbnail'] = responseFn
  }

  onGetVideoMetadata(responseFn) {
    this._handlers['@peartube/get-video-metadata'] = responseFn
  }

  onSetVideoThumbnail(responseFn) {
    this._handlers['@peartube/set-video-thumbnail'] = responseFn
  }

  onSetVideoThumbnailFromFile(responseFn) {
    this._handlers['@peartube/set-video-thumbnail-from-file'] = responseFn
  }

  onGetStatus(responseFn) {
    this._handlers['@peartube/get-status'] = responseFn
  }

  onPickVideoFile(responseFn) {
    this._handlers['@peartube/pick-video-file'] = responseFn
  }

  onPickImageFile(responseFn) {
    this._handlers['@peartube/pick-image-file'] = responseFn
  }

  onGetBlobServerPort(responseFn) {
    this._handlers['@peartube/get-blob-server-port'] = responseFn
  }

  onEventReady(responseFn) {
    this._handlers['@peartube/event-ready'] = responseFn
  }

  onEventError(responseFn) {
    this._handlers['@peartube/event-error'] = responseFn
  }

  onEventUploadProgress(responseFn) {
    this._handlers['@peartube/event-upload-progress'] = responseFn
  }

  onEventFeedUpdate(responseFn) {
    this._handlers['@peartube/event-feed-update'] = responseFn
  }

  onEventLog(responseFn) {
    this._handlers['@peartube/event-log'] = responseFn
  }

  onEventVideoStats(responseFn) {
    this._handlers['@peartube/event-video-stats'] = responseFn
  }

  onDownloadVideo(responseFn) {
    this._handlers['@peartube/download-video'] = responseFn
  }

  onDeleteVideo(responseFn) {
    this._handlers['@peartube/delete-video'] = responseFn
  }

  _requestIsStream(command) {
    return [
    ].includes(command)
  }

  _responseIsStream(command) {
    return [
    ].includes(command)
  }

  // prettier-ignore-start
  _requestIsSend(command) {
    return [
      // prettier-ignore
      '@peartube/event-ready',
      '@peartube/event-error',
      '@peartube/event-upload-progress',
      '@peartube/event-feed-update',
      '@peartube/event-log',
      '@peartube/event-video-stats'
    ].includes(command)
  }
}

module.exports = HRPC
